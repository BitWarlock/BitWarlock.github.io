<!DOCTYPE html>
<html>
<head>
    <title>Redirecting...</title>
    <script>
        // Immediate redirect with all parameters
        const params = new URLSearchParams(window.location.search);
        const redirectUrl = `intent://login?${params.toString()}#Intent;scheme=io.supabase.apprush;package=io.supabase.apprush;end`;
        
        // Try intent-based redirect first (works better on Android)
        window.location.href = redirectUrl;
        
        // Fallback after 500ms if still on page
        setTimeout(() => {
            if (!document.hidden) {
                window.location.href = `io.supabase.apprush://login?${params.toString()}`;
            }
        }, 500);
        
        // Ultimate fallback
        setTimeout(() => {
            document.body.innerHTML = `
                <h1>Authentication Complete</h1>
                <p>Please return to the app</p>
                <button onclick="window.close()">Close</button>
            `;
        }, 2000);
    </script>
    <style>
        body {
            font-family: Arial;
            text-align: center;
            padding: 2rem;
            background: #f5f5f5;
        }
    </style>
</head>
<body>
    <p>Redirecting to app...</p>
</body>
</html>
